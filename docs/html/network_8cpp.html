<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>hapticEnvironmentDocumentation: /home/mfl24/Documents/chaiProjects/hapticEnvironment/src/network/network.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">hapticEnvironmentDocumentation
   </div>
   <div id="projectbrief">Documentation for haptic environment code</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_fc4c7f03e1a69a98c370fae55a743828.html">network</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">network.cpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>General networking functions.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;network.h&quot;</code><br />
<code>#include &quot;core/controller.h&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a2ed65f7844ae0c750272dbd3eca34fa6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="network_8cpp.html#a2ed65f7844ae0c750272dbd3eca34fa6">addMessageHandlerModule</a> ()</td></tr>
<tr class="separator:a2ed65f7844ae0c750272dbd3eca34fa6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ea5a85aec82381e125efc102f79ec83"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="network_8cpp.html#a2ea5a85aec82381e125efc102f79ec83">subscribeToTrialControl</a> ()</td></tr>
<tr class="separator:a2ea5a85aec82381e125efc102f79ec83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a499c60465b6a1609a460e77684f89ca9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="network_8cpp.html#a499c60465b6a1609a460e77684f89ca9">openMessagingSocket</a> ()</td></tr>
<tr class="separator:a499c60465b6a1609a460e77684f89ca9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d5326c15ff2fc6d7e380d1646c45e4a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="network_8cpp.html#a6d5326c15ff2fc6d7e380d1646c45e4a">closeMessagingSocket</a> ()</td></tr>
<tr class="separator:a6d5326c15ff2fc6d7e380d1646c45e4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae83f45850eda388f62e5dbae4c9baf5b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="network_8cpp.html#ae83f45850eda388f62e5dbae4c9baf5b">readPacket</a> (char *packetPointer)</td></tr>
<tr class="separator:ae83f45850eda388f62e5dbae4c9baf5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd29b973a6b796a6cb16a94b93f8e21a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="network_8cpp.html#acd29b973a6b796a6cb16a94b93f8e21a">closeAllConnections</a> ()</td></tr>
<tr class="separator:acd29b973a6b796a6cb16a94b93f8e21a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a0e74175a64ca6de70034d06fb12f6712"><td class="memItemLeft" align="right" valign="top"><a id="a0e74175a64ca6de70034d06fb12f6712"></a>
<a class="el" href="struct_control_data.html">ControlData</a>&#160;</td><td class="memItemRight" valign="bottom"><b>controlData</b></td></tr>
<tr class="separator:a0e74175a64ca6de70034d06fb12f6712"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9972434fb32542e9e0cc8672b1e2e1e5"><td class="memItemLeft" align="right" valign="top"><a id="a9972434fb32542e9e0cc8672b1e2e1e5"></a>
struct sockaddr_in&#160;</td><td class="memItemRight" valign="bottom"><b>msgStruct</b></td></tr>
<tr class="separator:a9972434fb32542e9e0cc8672b1e2e1e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85dff369ae5d3b8aeaa94c172733f1f0"><td class="memItemLeft" align="right" valign="top"><a id="a85dff369ae5d3b8aeaa94c172733f1f0"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>msgLen</b> = sizeof(msgStruct)</td></tr>
<tr class="separator:a85dff369ae5d3b8aeaa94c172733f1f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>General networking functions. </p>
<p>Functions in this file are responsible for subscribing to <a class="el" href="class_message_handler.html">MessageHandler</a>, and opening sockets for messaging. See streamer.cpp and listener.cpp for using the threads used for listening to messages and streaming data. The robot, haptic, and graphics code are one module. Each module has its own IP address and port, which is assigned to a specific module number by the <a class="el" href="class_message_handler.html">MessageHandler</a>. At least two modules are required to run: 1) Robot and haptic code, and 2) Trial control code. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a2ed65f7844ae0c750272dbd3eca34fa6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ed65f7844ae0c750272dbd3eca34fa6">&#9670;&nbsp;</a></span>addMessageHandlerModule()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int addMessageHandlerModule </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function adds the robot environment to the <a class="el" href="class_message_handler.html">MessageHandler</a>. Information such as the module number, IP address, and port are set through command-line inputs and stored in the controlData external struct. </p>

</div>
</div>
<a id="acd29b973a6b796a6cb16a94b93f8e21a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd29b973a6b796a6cb16a94b93f8e21a">&#9670;&nbsp;</a></span>closeAllConnections()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void closeAllConnections </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Close all messaging sockets </p>

</div>
</div>
<a id="a6d5326c15ff2fc6d7e380d1646c45e4a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d5326c15ff2fc6d7e380d1646c45e4a">&#9670;&nbsp;</a></span>closeMessagingSocket()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void closeMessagingSocket </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Closes the socket for this module. </p>

</div>
</div>
<a id="a499c60465b6a1609a460e77684f89ca9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a499c60465b6a1609a460e77684f89ca9">&#9670;&nbsp;</a></span>openMessagingSocket()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int openMessagingSocket </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This specifically opens the <b>listening</b> port for this module. Sending ports are opened via <a class="el" href="class_message_handler.html">MessageHandler</a>. In other words, this opens the socket that is assigned to this module. </p>

</div>
</div>
<a id="ae83f45850eda388f62e5dbae4c9baf5b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae83f45850eda388f62e5dbae4c9baf5b">&#9670;&nbsp;</a></span>readPacket()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int readPacket </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>packetPointer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Receives messages on the messaging socket and sends them to be parsed by the controller </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">packetPointer</td><td>is a char pointer to store the read-in bytes </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="controller_8cpp.html#a2f751138b5d47b3bcaf45aa63abfaeb4">parsePacket</a> </dd></dl>

</div>
</div>
<a id="a2ea5a85aec82381e125efc102f79ec83"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ea5a85aec82381e125efc102f79ec83">&#9670;&nbsp;</a></span>subscribeToTrialControl()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int subscribeToTrialControl </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Subscribe to the trial control module. This tells <a class="el" href="class_message_handler.html">MessageHandler</a> to take all messages sent by Trial Control and send them to this module. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.16
</small></address>
</body>
</html>
